<div class="d-flex">
  <div>
    <h3 class="card-title m-b-5">
      <span class="lstick"></span>
      {{ leyenda }}
    </h3>
  </div>
</div>

<div class="div">
  <ul class="list-inline">
    <li class="list-inline-item">
      <a (click)="graficaIncidencias(this.datos)" href="javascript:void(0)"
        >Incidencias</a
      >
    </li>
    <li class="list-inline-item">
      <a (click)="graficaImpedimentos(this.datos)" href="javascript:void(0)"
        >Impedimentos</a
      >
    </li>
    <li class="list-inline-item">
      <a (click)="graficaFueraDePromedio(this.datos)" href="javascript:void(0)"
        >Fuera de promedio</a
      >
    </li>
  </ul>
</div>

<app-filtros-metricas (cadena)="cadenaBusqueda = $event"></app-filtros-metricas>

<ng-container *ngIf="!cargando; else cargaTemplate">
  <div class="chart">
    <canvas
      baseChart
      [data]="chartData"
      [labels]="chartLabels"
      [chartType]="chartType"
      [options]="chartOptions"
      [colors]="chartColors"
      [legend]="chartLegend"
      [plugins]="chartPlugins"
    >
    </canvas>
  </div>
</ng-container>

<hr />

<small class="text-muted">
  {{ advertencias }}
</small>

<hr />

<small>
  <a
    class="text-muted"
    (click)="cargar(cadenaBusqueda)"
    href="javascript:void(0)"
  >
    <i [ngClass]="{ 'fa-spin': cargando }" class="fas fa-sync"></i>
    Recargar
  </a>
</small>

<a
  (click)="excelIncidencias(datos)"
  class="btn btn-success btn-xs ml-3"
  href="javascript:void(0)"
  role="button"
>
  <i class="fas fa-file-excel"></i> Incidencias</a
>
<a
  (click)="excelImpedimentos(datos)"
  class="btn btn-success btn-xs ml-3"
  href="javascript:void(0)"
  role="button"
>
  <i class="fas fa-file-excel"></i> Impedimentos</a
>
<a
  (click)="excelFueraDePromedio(datos)"
  class="btn btn-success btn-xs ml-3"
  href="javascript:void(0)"
  role="button"
>
  <i class="fas fa-file-excel"></i> Fuera de promedio</a
>

<ng-template #cargaTemplate>
  <h1 class="display-1 text-center w-100">
    <i class="fas fa-sync fa-spin"></i>
  </h1>
</ng-template>
